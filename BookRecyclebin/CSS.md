# 层叠与继承

**冲突规则**

## 层叠

1. 资源顺序：资源顺序仅在规则的优先级相同时才体现出来
2. 优先级
3. 重要程度

### 优先级算法

- 一个选择器的优先级可以说是由三个不同的值（或分量）相加：百（ID）、十（类）、个（元素）

| 选择器                                                       | 分量                                                         |
| ------------------------------------------------------------ | ------------------------------------------------------------ |
| ID                                                           | 选择器中包含 ID 选择器则百位得一分。                         |
| 类                                                           | 选择器中包含类选择器、属性选择器或者伪类则十位得一分。       |
| 元素                                                         | 选择器中包含元素、伪元素选择器则个位得一分。                 |
| 通用选择器（[`*`](https://developer.mozilla.org/zh-CN/docs/Web/CSS/Universal_selectors)）<br>组合符（`+`、`>`、`~`、' '）<br>调整优先级的选择器（[`:where()`](https://developer.mozilla.org/zh-CN/docs/Web/CSS/:where)） | 不会影响优先级。                                             |
| 否定（`:not()`）<br>任意匹配（`:is()`）                      | 伪类本身对优先级没有影响，但它们的参数则会带来影响。参数中，对优先级算法有贡献的参数的优先级的最大值将作为该伪类选择器的优先级。 |

- 内联样式：优先于所有普通的样式，无论其优先级如何。这样的声明没有选择器，但它们的优先级可以理解为 1-0-0-0
- `!important`：用于修改特定属性的值，能够覆盖普通规则的层叠。

```css
.better {
    background-color: gray;
    border: none !important;
}
```

### 覆盖声明的顺序

- 相互冲突的声明将按以下顺序应用：

1. 用户代理样式表中的声明（例如，浏览器的默认样式，在没有设置其他样式时使用）。
2. 用户样式表中的常规声明（由用户设置的自定义样式）。
3. 作者样式表中的常规声明（这些是我们 web 开发人员设置的样式）。
4. 作者样式表中的 `!important` 声明
5. 用户样式表中的 `!important` 声明
6. 用户代理样式表中的 `!important` 声明

### 级联层的顺序

- 优先级的顺序由声明层的顺序来决定。在任何层之外声明的 CSS 样式会被按声明的顺序组合在一起，形成一个未命名的层，它会被当作最后声明的层。对于存在冲突的常规（没有 `!important` 声明）样式，后面的层比先前定义的层的优先级高。但对于带有 `!important` 标记的样式，其顺序相反——先前的层中的 important 样式比后面的层以及为在层中声明的 important 样式优先级要高。但内联样式比所有作者定义的样式的优先级都要高，不受级联层规则的影响。

- 当你在不同的层中有多个样式块，且其中提供了对于某一元素的单一属性的相互冲突的值时，声明该冲突样式的层的顺序将决定其优先级。而不是高优先级的层直接覆盖低优先级的层中的所有样式。需要注意的是单独的一个层中的样式的优先级仍旧会起作用。

## 继承

### 继承属性

- 一些设置在父元素上的 CSS 属性是可以被子元素继承：如果你设置一个元素的 `color` 和 `font-family`，每个在里面的元素也都会有相同的属性，除非你直接在元素上设置属性。

### 控制继承

**控制属性**

|属性|说明|
|:--|:--|
|inherit|开启继承：设置该属性会使子元素属性和父元素相同。|
|initial|将应用于选定元素的属性值设置为该属性的初始值。|
|revert (en-US)|将应用于选定元素的属性值重置为浏览器的默认样式，而不是应用于该属性的默认值。<br>在许多情况下，此值的作用类似于 unset。|
|revert-layer (en-US)|将应用于选定元素的属性值重置为在上一个层叠层中建立的值。|
|unset|将属性重置为自然值，如果属性是自然继承那么就是 inherit，否则和 initial 一样|

**属性指定**

| 属性 | 说明                       |
| ---- | -------------------------- |
| all  | 对当前样式表的所有属性设置 |

```html
body {
    color: green;
}
          
.my-class-1 a {
    color: inherit;
}
          
.fix-this {
    all: unset;
}
```

# 盒子模型

## 块级盒子和内联盒子

| 块级盒子 (block)                                             | 内联盒子 (inline)                                            |
| ------------------------------------------------------------ | ------------------------------------------------------------ |
| 盒子会在内联的方向上扩展并占据父容器在该方向上的所有可用空间<br>在绝大数情况下意味着盒子会和父容器一样宽 |                                                              |
| 每个盒子都会换行                                             | 盒子不会产生换行                                             |
| width 和 height 属性可以发挥作用                             | width 和 height 属性将不起作用。                             |
| 内边距（padding）, 外边距（margin）和 边框（border）会将其他元素从当前盒子周围“推开” | 垂直方向的内边距、外边距以及边框会被应用但是不会把其他处于 `inline` 状态的盒子推开<br>水平方向的内边距、外边距以及边框会被应用且会把其他处于 `inline` 状态的盒子推开 |
| 标题 (`<h1>`等) 和段落 (`<p>`) 默认情况下都是块级的盒子      | 用做链接的 `<a>` 元素、 `<span>`、 `<em>` 以及 `<strong>` 都是默认处于 `inline` 状态的 |

## 盒模型

|组成|属性|说明|
|:--|:--|:--|
|Content box|`width`和 `height`|显示内容的区域。|
|Padding box| `padding` |包围在内容区域外部的空白区域|
|Border box|`border`|边框盒包裹内容和内边距。|
|Margin box|`margin`| 这是最外面的区域，是盒子和其他元素之间的空白区域。 |

<img src="../../../pictures/box-model.png" width="400"/>  

### 标准盒模型

- 浏览器默认使用标准盒模型。

- 在标准模型中：给盒设置 `width` 和 `height`，实际设置的是 content box、padding 和 border 再加上设置的宽高一起决定整个盒子的大小。

```css
.box {
  width: 350px;
  height: 150px;
  margin: 25px;
  padding: 25px;
  border: 5px solid black;
}
/*标准模型：实际占用空间的宽高分别为：
宽度 = 410px (350 + 25 + 25 + 5 + 5)
高度 = 210px (150 + 25 + 25 + 5 + 5)*/
```

## 盒子效果

### 悬浮盒子

```css
/*当鼠标悬停时*/
.box-bd ul li:hover {
    /*向上8px*/
    top: -8px;
    /*设置阴影*/
    box-shadow: 0 15px 30px rgb(0 0 0 / 10%);
}
```

<iframe src="../../../pages/悬浮选中案例/css_box_01.html" width="1000px" height="300px"></iframe>

### 图片放大

```css
.list li {
  position: relative;
  /*1秒的过渡时间*/
  transition: all 1s;
  margin-top: 15px;
}

.list li:first-child {
  margin-left: 0;
}

.list li:hover {
  /*放大未原来的1.3倍*/
  transform: scale(1.3);
  /*将其以更高的z-index带到前面*/
  z-index: 999;
}
```

<iframe src="../../../pages/英雄列表案例/hero(学生练习).html" width="1000px" height="300px"></iframe>



# 样式化文本

## 字体样式

| 属性              | 作用                         | 属性                                                         |
| ----------------- | ---------------------------- | ------------------------------------------------------------ |
| `font-family`     | 字体种类                     |                                                              |
| `font-style`      | 打开和关闭文本 italic (斜体) | `normal`: 将文本设置为普通字体 (将存在的斜体关闭) <br>`italic`: 如果当前字体的斜体版本可用，那么文本设置为斜体版本；如果不可用，那么会利用 oblique 状态来模拟 italics。 <br>`oblique`: 将文本设置为斜体字体的模拟版本，也就是将普通文本倾斜的样式应用到文本中。 |
| `font-weight`     | 文本的粗体大小               | `normal`, `bold`: 普通或者加粗的字体粗细 <br>`lighter`, `bolder`: 将当前元素的粗体设置为比其父元素粗体更细或更粗。<br>`100`–`900`: 数值粗体值，更精细的粒度控制。 |
| `text-transform`  | 设置要转换的字体             | `none`: 防止任何转型。<br> `uppercase`: 将所有文本转为大写。<br> `lowercase`: 将所有文本转为小写。<br> `capitalize`: 转换所有单词让其首字母大写。 <br>`full-width`: 将所有字形转换成全角，即固定宽度的正方形。 |
| `text-decoration` | 文本装饰                     | `none`: 取消已经存在的任何文本装饰。 <br>`underline`: 文本下划线。 <br>`overline`: 文本上划线 <br>`line-through`: 穿过文本的线 |
| `text-shadow`     | 文本阴影                     | 一共要设置4个值：`text-shadow: 4px 4px 5px red;`<br>阴影与原始文本的水平偏移<br>阴影与原始文本的垂直偏移<br>模糊半径，默认0<br>阴影的基础颜色，默认black |

```css
/*以逗号分隔的多个阴影值，将多个阴影应用于同一文本*/
text-shadow: -1px -1px 1px #aaa,
             0px 4px 1px rgba(0,0,0,0.5),
             4px 4px 5px rgba(0,0,0,0.7),
             0px 0px 7px rgba(0,0,0,0.4);
```

### 默认字体

| font-family属性 | 定义                             | 示例                                                         |
| :-------------- | :------------------------------- | :----------------------------------------------------------- |
| `serif`         | 衬线字体，                       | <img src="../../../pictures/Snipaste_2023-04-19_23-15-10.png" width="200"/>  |
| `sans-serif`    | 无衬线字体。                     | <img src="../../../pictures/Snipaste_2023-04-19_23-15-52.png" width="200"/>  |
| `monospace`     | 等宽字体，通常在编辑代码时使用。 | <img src="../../../pictures/Snipaste_2023-04-19_23-16-05.png" width="200"/>  |
| `cursive`       | 手写字体                         | <img src="../../../pictures/Snipaste_2023-04-19_23-16-20.png" width="200"/>  |
| `fantasy`       | 装饰字体                         | <img src="../../../pictures/Snipaste_2023-04-19_23-16-39.png" width="200"/>  |

## 文本布局风格

| 属性          | 作用          | 说明                                                         |
| ------------- | ------------- | ------------------------------------------------------------ |
| `text-align`  | 文本对齐      | `left`: 左对齐文本。 <br>`right`: 右对齐文本。 <br>`center`: 居中文字 <br>`justify`: 使文本展开，改变单词之间的差距，使所有文本行的宽度相同 |
| `line-height` | 行高          | 推荐的行高大约是 1.5–2 。`line-height: 1.5;`                 |
|               | 字母/单词间距 | 字母与字母之间的间距：`letter-spacing`<br>单词与单词之间的间距：`word-spacing` |
|               |               |                                                              |
|               |               |                                                              |
|               |               |                                                              |



