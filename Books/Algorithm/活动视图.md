# 活动视图

- 活动视图是一种特殊形式的状态机视图，是状态机的一个变体，用来描述执行算法的工作流程中涉及的活动，通常用于对计算流程和工作流程建模。活动视图使用活动图来体现。
- 活动视图中的状态：表示计算过程中所处的各种状态。

**活动图**

- 活动图：活动图中包含了描述对象活动或动作的状态以及对这些状态的控制。
- 活动状态：活动图包含对象活动的状态，活动的状态表示命令执行过程中或工作流程中活动的运行。
  - 与等待某一个事件发生的一般等待状态不同，活动状态等待计算处理过程的完成，当活动完成的时候，执行流程才能进入活动图的下一个活动状态中去。当一个活动的前导活动完成时，活动图的完成转换被激发。活动状态通常没有明确表示出引起活动状态转换的事件，当出现闭包循环时，活动状态会异常终止。
- 动作状态：活动图也包含了对象的动作状态，它与活动状态有些类似，不同的是，动作状态是种原子活动操作并且当它们处于活动状态时不允许发生转换。
- 对状态的控制：这种控制包括对并发的控制等。并发线程表示能被系统中的不同对象和人并发执行的活动。在活动图中通常包含聚集和分叉等操作。在聚集关系中每个对象有着它们自己的线程，这些线程可并发执行。并发活动可以同时执行也可以顺序执行。活动图能够表达顺序流程控制还能够表达并发流程控制。
- 活动图不仅可以对事物进行建模，也可以对软件系统中的活动进行建模。活动图可以很好地帮助我们去理解系统高层活动的执行过程，并且在描述这些执行的过程中不需要去建立协作图所需的消息传送细节，可以简单地使用连接活动和对象流状态的关系流表示活动所需的输入/输出参数。

# 活动图

- 活动图：描述系统行为，描述动作和动作导致对象状态改变的结果。（描述用例的具体行为）
- 动作：原子的。
- 活动：非原子的，由动作组成。
- 组合活动：包含内嵌活动/动作。

<img src="../../pictures/Snipaste_2023-05-19_16-15-05.png" width="200"/> 

## 分支与合并

- 分支：每条路径的监护条件互斥，各种可能。
- 合并：多个控制路径在此汇合。

<img src="../../pictures/Snipaste_2023-05-19_16-09-04.png" width="300"/> 

## 分叉与汇合

- 并发：在同一时间内，多个活动并行执行，在汇合处等待所有的分支都完成后再继续执行。

<img src="../../pictures/Snipaste_2023-05-19_16-12-02.png" width="300"/> 

## 泳道

- 泳道：为了对活动的职责进行组织而在活动图中将活动状态分为不同的组，明确表示活动由哪些对象执行。一个活动只能属于一个泳道。
- 每个泳道可能由一个或者多个类实施，类所执行的动作或拥有的状态按照发生的事件顺序自上而下的排列在泳道内。

## 对象流

- 对象流：将对象作为输入或输出的控制流。在活动图中，对象流描述了动作或者活动与对象之间的关系，表示动作使用对象以及动作对对象的影响。
- 虚箭线：
  - 从活动（动作）状态出发指向对象，表示该动作创建或更新了对象流所指向的对象，该对象是动作的输出。
  - 从对象出发指向活动（动作）状态，表示该动作使用对象流所来源的对象，该对象是动作的输入。

<img src="../../pictures/Snipaste_2023-05-25_15-51-04.jpg" width="600"/> 
