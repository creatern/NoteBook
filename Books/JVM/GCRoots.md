- 可达性分析算法（根搜索算法、追踪性垃圾收集）（Tracing Garbage Collection ），必须在一个能保障一致性的快照中进行，导致GC进行时必须“Stop The World“。

> 即使是CMS收集器也必须在枚举根节点时停顿。

- 根对象集合（GC Roots）：一组必须活跃的引用。

1. 以根对象集合为起始点，从上到下搜索被根对象集合所连接的目标对象是否可达。
2. 引用链：搜索所经过的路径，可达性分析之后，内存中的存活对象都被根对象集合直接/间接连接。
3. 如果对象没有任何的引用链（不可达），则对象死亡，标记为垃圾对象。

> 垃圾：运行程序中没有任何指针指向的对象。

<img src="../../pictures/JVM-GCRoots.svg" width="500"/> 

- 固定的GC Roots集合包括：
  - 虚拟机栈中引用的对象
  - 本地方法栈内JNI引用的对象
  - 方法区中类属性引用的对象
  - 方法区中常量引用的对象
  - 所有被同步锁sychronized持有的对象
  - JVM内部的引用：基本数据类型对应的Class对象、一些常驻的异常对象、系统类加载器
  - 反映JVM内部情况的JMXBean、JVMTI中注册的回调、本地代码缓存等
- 临时性加入的GC Roots：根据用户所选用的垃圾收集器以及当前回收的内存区域的不同，可以有其他对象临时性的加入GC Roots集合。（分代收集、局部回收Partial GC）

> 如果只针对Java堆中的某一块区域进行垃圾回收，必须考虑到内存区域是JVM自身的实现细节，更不是独立封闭的，该区域的对象完全有可能被其他区域的对象所引用（如：新生代的对象被老年代的对象引用），此时，需要一并将关联的区域对象也加入到GC Roots中考虑。
