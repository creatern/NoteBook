- 直接内存：在Java堆外的、直接向系统申请的内存空间。来源于NIO，通过存在堆中的DirectByteBuffer操作Native内存。

>  直接内存不是运行时数据区的一部分、不是《JVM规范》中定义的内存区域。

- 通常，访问直接内存的速度会优于Java堆，读写性能高：
  - 读写频繁的场景。
  - Java的NIO库允许Java程序使用直接内存，用于数据缓冲区。
- 直接内存也存在OOM（Direct buffer memory）：直接内存在Java堆外，其大小不会直接受限于-Xmx指定的最大堆大小，但由于系统的内存是有限的，Java堆和直接内存的总和仍然受限于系统的最大可用内存。
- 直接内存缺点：
  1. 分配回收成本高。
  2. 不受JVM内存回收管理。
- 直接内存大小设置：`-XX:MaxDirectMemorySize=<value>`，默认与堆的-Xmx参数值一致。

<img src="../../pictures/Snipaste_2023-05-29_10-13-31.png" width="1300"/> 
$$
Java Process Memory = Java Heap + Native Memory
$$
<img src="../../pictures/Snipaste_2023-05-29_10-58-47.png" width="1400"/>  

