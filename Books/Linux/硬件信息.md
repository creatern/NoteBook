# 硬件信息

## lshw

- `lshw`（list hardware）：列出硬件，包括固件、驱动程序、功能、序列号、版本号、总线信息。但不会探测通过无线网络连接的任何设备，会报告无线和蓝牙接口。

```shell
# 以硬件路径树形式的摘要
sudo lshw -short

# 以总线摘要的形式查看
sudo lshw -businfo
```

## lm-sensors 温度监控

```shell
# 安装lm-sensors
sudo apt install lm-sensors

# 检测是否存在温控硬件（检测兼容传感器）
sudo sensors-detect

# 查看当前各硬件的温度
sensors
```

# 磁盘信息

## iostat 磁盘活动统计

- iostat：汇报磁盘活动统计情况、CPU使用情况。

```shell
# iostat -x /dev/sda1
Linux 3.10.0-693.el7.x86_64 (bogon)     12/12/2022      _x86_64_        (12 CPU)

avg-cpu:  %user   %nice %system %iowait  %steal   %idle
           0.01    0.00    0.03    0.00    0.00   99.96

Device:         rrqm/s   wrqm/s     r/s     w/s    rkB/s    wkB/s avgrq-sz avgqu-sz   await r_await w_await  svctm  %util
sda1              0.00     0.00    0.18    0.00     0.56     0.20     8.34     0.00    0.13    0.12    3.00   0.12   0.00
```

# 电源管理

## 电源控制

- 电源控制一般只针对Laptop，且不同的Linux发行版，电源控制的实现不同

### poweroff

- `poweroff`：立即关闭系统并将计算机的电源关闭，不会进行系统安全关闭的步骤，这会丢失所有未保存的工作

<table><tbody><tr><td>-d</td><td>关机时不写入任何信息到日志文件</td></tr><tr><td>-f</td><td>强制关闭操作系统而不询问</td></tr><tr><td>-h</td><td>关机前将所有硬件设置为备用模式</td></tr><tr><td>-i</td><td>关机前先关闭所有的网卡</td></tr><tr><td>-n</td><td>关机时不执行同步操作</td></tr><tr><td>-w</td><td>模拟关机操作并记录过程到日志文件</td></tr><tr><td>--help</td><td>显示帮助信息</td></tr></tbody></table>

### shutdown

- `shutdown`：执行一系列的步骤来安全关闭系统，会向所有登录用户发送一个通知，告诉他们系统将在指定时间后关闭，这样他们就有时间保存他们的工作并退出系统。

<table><tbody><tr><td>-c</td><td>取消关机任务</td><td rowspan="5">&nbsp;</td><td>-n</td><td>不调用init程序进行关机</td></tr><tr><td>-f</td><td>关机时不检查文件系统</td><td>-P</td><td>系统关机后切断电源</td></tr><tr><td>-F</td><td>关机时先检查文件系统</td><td>-r</td><td>将系统立即重启</td></tr><tr><td>-h</td><td>将系统立即关机</td><td>-s</td><td>关闭此计算机，非立即操作</td></tr><tr><td>-k</td><td>发送信息给所有用户</td><td>-t</td><td>设置距离关闭计算机还剩余的秒数</td></tr></tbody></table>

```shell
# 默认在1分钟后关机：shutdown -h +1
shutdown

# 立即关机，不通知其他用户
shutdown -h now

# 10分钟后关机，并通知其他用户
shutdown -h +10

# 取消关机，并通知其他用户
shutdown -c

# 在22:15时关机，并向用户发送自定义通知信息
shutdown -h 22:15 "Time to stop working at 22:15"
```

### halt

<table><tbody><tr><td>-a</td><td>关闭系统前不同步数据</td></tr><tr><td>-d</td><td>不写入日志文件</td></tr><tr><td>-f</td><td>强制关机或重启而不询问</td></tr><tr><td>-i</td><td>关机或重启前关掉所有的网络服务</td></tr><tr><td>-w</td><td>模拟关机，将过程写入到日志文件</td></tr><tr><td>--verbose</td><td>显示执行过程详细信息</td></tr></tbody></table>

### reboot

<table><tbody><tr><td>-d</td><td>不将重启系统的过程写入日志中</td></tr><tr><td>-f</td><td>强制重启系统而不询问</td></tr><tr><td>-i</td><td>关闭所有的网络服务然后再重启系统</td></tr><tr><td>-n</td><td>直接重启系统，不保存当前资料</td></tr><tr><td>-w</td><td>仅模拟重启过程，将过程写入日志中</td></tr><tr><td>--verbose</td><td>显示执行过程详细信息</td></tr></tbody></table>

## 电源状态监控

### upower

```shell
# 监视电源守护程序的活动；但如果当前电源状态没有发生变化，-monitor-detail在没有新事件发生时可能不会刷新显示。
upower -monitor-detail
upower -m

# 当前电源设备的详细状态快照
upower -d
```

### acpi

### batstat

### tlp
