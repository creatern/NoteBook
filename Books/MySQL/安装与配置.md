# Ubuntu20.4

```shell
sudo apt update
sudo apt install mysql-server -y
```

```shell
# 测试mysql
sudo systemctl status mysql
sudo systemctl is-active mysql

# 设置自动启动
sudo systemctl enable mysql
```

- 该方式安装的Mysql默认使用无密码登录，可通过以下修改为密码登录

```sql
alter user 'root'@'localhost' 
identified with mysql_native_password
by 'root';

flush privileges;
```

# Docker

```shell
# mysql5.7启动
docker run -it --name mysql5.7 \
-p 3306:3306 \
-e MYSQL_ROOT_PASSWORD=root \
-e MYSQL_UNIX_SOCKET=/tmp/mysql.sock \
-d mysql:5.7
```

# Fedora39

## 存储库文件

```shell
# 安装 MySQL 存储库，这会将存储库文件 /etc/yum.repos.d/mysql-community.repo 写入
sudo dnf -y install https://dev.mysql.com/get/mysql80-community-release-fc39-1.noarch.rpm

# 确认
cat /etc/yum.repos.d/mysql-community.repo


# 添加存储库并确认启用后，继续运行以下命令将 MySQL 8.0 安装到 Fedora 上
sudo dnf install mysql-community-server

# 安装后，可以从以下位置查看软件包信息
rpm -qi mysql-community-server
```

## 配置 MySQL 服务器

```shell
# 启动和启用 mysqld 服务
sudo systemctl start mysqld.service && sudo systemctl enable mysqld.service

# 复制 root 用户生成的随机密码，需要记下打印的密码
sudo grep 'A temporary password' /var/log/mysqld.log |tail -1

# 启动 MySQL 安全安装以更改 root 密码、禁止远程 root 登录、删除匿名用户和删除测试数据库。
sudo mysql_secure_installation
# 使用生成的临时密码进行身份验证。然后配置 MySQL 8.0 安装

# 以 root 用户身份连接到 MySQL 数据库并创建测试数据库
sudo mysql -u root -p
```

## 为远程连接配置防火墙

```shell
# 防火墙上允许端口 3306
sudo firewall-cmd --add-service=mysql --permanent
sudo firewall-cmd --reload

# 限制来自受信任网络的访问
sudo firewall-cmd --permanent --add-rich-rule 'rule family="ipv4" \
service name="mysql" source address="10.1.1.0/24" accept'
```
